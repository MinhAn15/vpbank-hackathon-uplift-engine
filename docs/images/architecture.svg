<svg width="1200" height="720" viewBox="0 0 1200 720" xmlns="http://www.w3.org/2000/svg" font-family="Segoe UI, Roboto, Arial" >
  <defs>
    <marker id="arrow" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="8" markerHeight="8" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#4b5563"/>
    </marker>
    <linearGradient id="grad" x1="0" x2="0" y1="0" y2="1">
      <stop offset="0%" stop-color="#eef2ff" />
      <stop offset="100%" stop-color="#e0e7ff" />
    </linearGradient>
  </defs>

  <rect x="0" y="0" width="1200" height="720" fill="#ffffff"/>

  <!-- Title -->
  <text x="600" y="40" text-anchor="middle" font-size="24" fill="#111827">Uplift Engine — AWS Architecture Overview</text>

  <!-- Client -->
  <rect x="40" y="80" width="220" height="70" rx="10" fill="#ecfeff" stroke="#06b6d4"/>
  <text x="150" y="120" text-anchor="middle" font-size="16" fill="#0e7490">Client (VPBank App / Web)</text>

  <!-- API Gateway -->
  <rect x="320" y="80" width="220" height="70" rx="10" fill="#f0fdf4" stroke="#22c55e"/>
  <text x="430" y="120" text-anchor="middle" font-size="16" fill="#166534">Amazon API Gateway</text>

  <!-- Lambda Decisioning -->
  <rect x="600" y="80" width="260" height="70" rx="10" fill="#fef9c3" stroke="#f59e0b"/>
  <text x="730" y="110" text-anchor="middle" font-size="16" fill="#92400e">AWS Lambda</text>
  <text x="730" y="130" text-anchor="middle" font-size="12" fill="#92400e">Decisioning + Guardrails + Optimizer</text>

  <!-- Feature Store Online -->
  <rect x="600" y="200" width="260" height="70" rx="10" fill="#e0e7ff" stroke="#6366f1"/>
  <text x="730" y="230" text-anchor="middle" font-size="16" fill="#3730a3">SageMaker Feature Store</text>
  <text x="730" y="250" text-anchor="middle" font-size="12" fill="#3730a3">Online (DynamoDB) — low latency</text>

  <!-- SageMaker Endpoint -->
  <rect x="920" y="80" width="240" height="70" rx="10" fill="#fee2e2" stroke="#ef4444"/>
  <text x="1040" y="110" text-anchor="middle" font-size="16" fill="#7f1d1d">SageMaker Endpoint</text>
  <text x="1040" y="130" text-anchor="middle" font-size="12" fill="#7f1d1d">Uplift Model Inference</text>

  <!-- Kinesis -->
  <rect x="920" y="200" width="240" height="70" rx="10" fill="#e5e7eb" stroke="#6b7280"/>
  <text x="1040" y="230" text-anchor="middle" font-size="16" fill="#374151">Kinesis Firehose</text>
  <text x="1040" y="250" text-anchor="middle" font-size="12" fill="#374151">Exposure/Outcome Logs</text>

  <!-- Offline area background -->
  <rect x="40" y="340" width="1120" height="320" rx="12" fill="url(#grad)" stroke="#93c5fd"/>
  <text x="60" y="365" font-size="14" fill="#1f2937">Offline & MLOps</text>

  <!-- S3 Data Lake -->
  <rect x="60" y="390" width="250" height="80" rx="10" fill="#ffffff" stroke="#3b82f6"/>
  <text x="185" y="420" text-anchor="middle" font-size="16" fill="#1d4ed8">Amazon S3 Data Lake</text>
  <text x="185" y="440" text-anchor="middle" font-size="12" fill="#1d4ed8">Raw / Curated / Features (Parquet)</text>

  <!-- Feature Store Offline -->
  <rect x="360" y="390" width="280" height="80" rx="10" fill="#ffffff" stroke="#6366f1"/>
  <text x="500" y="420" text-anchor="middle" font-size="16" fill="#3730a3">SageMaker Feature Store</text>
  <text x="500" y="440" text-anchor="middle" font-size="12" fill="#3730a3">Offline (S3) — training datasets</text>

  <!-- Step Functions -->
  <rect x="700" y="390" width="220" height="80" rx="10" fill="#ffffff" stroke="#10b981"/>
  <text x="810" y="420" text-anchor="middle" font-size="16" fill="#065f46">AWS Step Functions</text>
  <text x="810" y="440" text-anchor="middle" font-size="12" fill="#065f46">Orchestrate MLOps Pipeline</text>

  <!-- SageMaker Training -->
  <rect x="960" y="390" width="180" height="80" rx="10" fill="#ffffff" stroke="#f43f5e"/>
  <text x="1050" y="420" text-anchor="middle" font-size="16" fill="#9f1239">SageMaker Training</text>
  <text x="1050" y="440" text-anchor="middle" font-size="12" fill="#9f1239">Model Training Jobs</text>

  <!-- EMR/Glue -->
  <rect x="360" y="510" width="260" height="80" rx="10" fill="#ffffff" stroke="#14b8a6"/>
  <text x="490" y="540" text-anchor="middle" font-size="16" fill="#0f766e">AWS Glue / EMR Serverless</text>
  <text x="490" y="560" text-anchor="middle" font-size="12" fill="#0f766e">Feature Engineering (Spark)</text>

  <!-- Model Registry -->
  <rect x="700" y="510" width="220" height="80" rx="10" fill="#ffffff" stroke="#a78bfa"/>
  <text x="810" y="540" text-anchor="middle" font-size="16" fill="#6d28d9">SM Model Registry</text>
  <text x="810" y="560" text-anchor="middle" font-size="12" fill="#6d28d9">Approval & Versioning</text>

  <!-- DynamoDB -->
  <rect x="920" y="200" width="0" height="0" fill="none"/>
  <rect x="320" y="200" width="240" height="70" rx="10" fill="#fde68a" stroke="#f59e0b"/>
  <text x="440" y="230" text-anchor="middle" font-size="16" fill="#92400e">Amazon DynamoDB</text>
  <text x="440" y="250" text-anchor="middle" font-size="12" fill="#92400e">DNC / Policy / Bandit State</text>

  <!-- Arrows (Online) -->
  <line x1="260" y1="115" x2="320" y2="115" stroke="#4b5563" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="540" y1="115" x2="600" y2="115" stroke="#4b5563" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="860" y1="115" x2="920" y2="115" stroke="#4b5563" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="730" y1="150" x2="730" y2="200" stroke="#4b5563" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="600" y1="235" x2="560" y2="235" stroke="#4b5563" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="840" y1="235" x2="920" y2="235" stroke="#4b5563" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Arrows (Offline) -->
  <line x1="310" y1="430" x2="360" y2="430" stroke="#4b5563" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="610" y1="430" x2="700" y2="430" stroke="#4b5563" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="920" y1="430" x2="960" y2="430" stroke="#4b5563" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="185" y1="470" x2="490" y2="510" stroke="#4b5563" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="490" y1="590" x2="500" y2="470" stroke="#4b5563" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="810" y1="590" x2="810" y2="470" stroke="#4b5563" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="1050" y1="470" x2="1050" y2="150" stroke="#4b5563" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Legend -->
  <rect x="940" y="610" width="220" height="80" rx="10" fill="#ffffff" stroke="#9ca3af"/>
  <text x="1050" y="635" text-anchor="middle" font-size="14" fill="#111827">Legend</text>
  <circle cx="960" cy="655" r="6" fill="#fef3c7" stroke="#f59e0b"/>
  <text x="975" y="660" font-size="12" fill="#374151">Realtime layer</text>
  <rect x="955" y="670" width="14" height="10" fill="#e0e7ff" stroke="#6366f1"/>
  <text x="975" y="679" font-size="12" fill="#374151">Features/Models</text>
</svg>